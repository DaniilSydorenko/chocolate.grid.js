{"version":3,"sources":["webpack:///webpack/bootstrap de46d6c053c956b7e0d4","webpack:///./app/styles/Styles.js","webpack:///./app/utils/Utils.js","webpack:///./index.js","webpack:///./app/main/Main.js","webpack:///./app/grid/Grid.js"],"names":["Styles","items","width","container","containerMaxWidth","transitionDuration","transitionTimingFunction","style","maxWidth","forEach","item","i","position","transition","querySelector","textContent","height","marginLeft","marginRight","top","left","Utils","getColumnNumber","containerWidth","columnWidth","columnMargin","scrollBarPixelWidth","columnNumber","Math","floor","getContainerWidth","getIndexOfSmallestColumn","allColumns","indexOf","min","getMapOfHeightsForEveryColumn","column","map","e","parseInt","Object","keys","numbers","push","offsetHeight","grid","mapOfHeights","length","reduce","a","b","sumOfHeightsForColumns","getSumOfHeightsForColumns","maxVal","max","itemsHeight","getHeightOfItems","columnsNumber","containerFullWidth","window","Chocolate","Main","params","document","querySelectorAll","gridContainer","setItemStylesBeforeGridCreated","runSetSize","setSize","addEventListener","innerWidth","formatData","Grid","setContainerStyles","getContainerHeight","createGrid","elementsOfGrid","indexOfSmallestColumn","numberOfElementsInGrid","j","col","elementOfGrid","splice","index","setItemStyles"],"mappings":"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","file":"application.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap de46d6c053c956b7e0d4","class Styles {\n\tsetItemStylesBeforeGridCreated(items, width, container, containerMaxWidth, transitionDuration = 0.5, transitionTimingFunction = 'ease') {\n\t\tcontainer.style.maxWidth = `${containerMaxWidth}px`;\n\t\titems.forEach((item, i) => {\n\t\t\titem.style.width = `${width}px`;\n\t\t\titem.style.position = \"absolute\";\n\t\t\titem.style.transition = `all ${transitionTimingFunction} ${transitionDuration}s`;\n\t\t\titem.querySelector('.text').textContent = `${i}`; // TEMPORARY\n\t\t});\n\t}\n\t\n    setContainerStyles(container, height, width) {\n        container.style.position = 'relative';\n        container.style.marginLeft = 'auto'; // depends of size, if not 100%\n        container.style.marginRight = 'auto'; // depends of size, if not 100%\n        container.style.height = `${height}px`;\n        container.style.width = `${width}px`;\n    }\n\t\n    setItemStyles(item, top, left) {\n        item.style.top = `${top}px`;\n        item.style.left = `${left}px`;\n\t}\n}\n\n// TODO common function for styles changing\n// styleit(element, ['width', 'position], ['100px', 'absolute'])\n\nexport default new Styles();\n\n\n\n// WEBPACK FOOTER //\n// ./app/styles/Styles.js","// @flow\n\nimport { IndexHeightItem, Params, GridType } from '../types'\n\nclass Utils {\n\tgetColumnNumber = (containerWidth: number, columnWidth: number, columnMargin: number) => {\n\t\tconst scrollBarPixelWidth = 17;\n\t\tconst columnNumber = Math.floor(((containerWidth + columnMargin) - scrollBarPixelWidth) / (columnWidth + columnMargin));\n\t\treturn columnNumber === 0 ? 1 : columnNumber;\n\t}\n\n\tgetContainerWidth = (columnWidth: number, columnNumber: number, columnMargin: number) => {\n\t\treturn columnNumber * (columnWidth + columnMargin) - columnMargin;\n\t}\n\n\tgetIndexOfSmallestColumn = (allColumns: Array<number>) => {\n\t\treturn allColumns.indexOf(Math.min(...allColumns))\n\t}\n\n\tgetMapOfHeightsForEveryColumn = (column: Array<IndexHeightItem>) => {\n\t\t// $FlowFixMe\n\t\treturn column.map((e: IndexHeightItem) => {\n\t\t\treturn parseInt(e[Object.keys(e)[0]]);\n\t\t})\n\t}\n\t\n\t// OBJECT ???\n\tgetHeightOfItems (items: Array<HTMLElement>) {\n\t\tconst numbers = []\n\t\titems.forEach((e, i) => {\n\t\t\tnumbers.push({\n\t\t\t\t[i]: e.offsetHeight\n\t\t\t})\n\t\t})\n\t\treturn numbers\n\t}\n\n\tgetSumOfHeightsForColumns (grid: GridType) {\n\t\t// $FlowFixMe\n\t\treturn Object.keys(grid).map((i: string) => {\n\t\t\tlet mapOfHeights = this.getMapOfHeightsForEveryColumn(grid[parseInt(i)])\n\t\t\tif (mapOfHeights.length === 1) {\n\t\t\t\treturn mapOfHeights[0]\n\t\t\t} else if (mapOfHeights.length > 1) {\n\t\t\t\treturn mapOfHeights.reduce(function (a, b) {\n\t\t\t\t\treturn a + b\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\t\n\tgetContainerHeight (columnMargin: number, grid: GridType) {\n\t\tlet sumOfHeightsForColumns = this.getSumOfHeightsForColumns(grid)\n\t\t// $FlowFixMe\n\t\tlet maxVal = Math.max(...sumOfHeightsForColumns)\n\t\treturn maxVal + grid[sumOfHeightsForColumns.indexOf(maxVal)].length * columnMargin\n\t}\n\t\n\tformatData (containerWidth: number, columnWidth: number, columnMargin: number, items: Array<HTMLElement>) {\n\t\tconst itemsHeight = this.getHeightOfItems(items);\n\t\tconst columnsNumber = this.getColumnNumber(containerWidth, columnWidth, columnMargin)\n\t\tconst containerFullWidth = this.getContainerWidth(columnWidth, columnsNumber, columnMargin)\n\t\treturn {\n\t\t\titemsHeight,\n\t\t\tcolumnsNumber,\n\t\t\tcolumnWidth,\n\t\t\tcolumnMargin,\n\t\t\tcontainerFullWidth\n\t\t}\n\t}\n}\n\nexport default new Utils()\n\n\n\n// WEBPACK FOOTER //\n// ./app/utils/Utils.js","import Main from './app/main/Main';\nwindow.Chocolate = Main;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import { IndexHeightItem, Params, GridType } from '../types'\nimport Grid from '../grid/Grid'\nimport Utils from '../utils/Utils'\nimport Styles from '../styles/Styles'\n\n// TODO: Horizontal grid\n// TODO: new properties: fullSizeOfContainer, sideMargin, bottomMargin\n// TODO: TESTS\n\n// TODO CONVERT CODE INTO TYPESCRIPT\n\nclass Main {\n\tconstructor (params: Params) {\n\t\tconst items = document.querySelectorAll('.chocolate-item');\n\t\tconst gridContainer = document.querySelector('.chocolate-container');\n\t\tconst {\n\t\t\tcolumnWidth,\n\t\t\tcolumnMargin,\n\t\t\tcontainerMaxWidth,\n\t\t\ttransitionDuration,\n\t\t\ttransitionTimingFunction\n\t\t} = params;\n\t\t\n\t\tStyles.setItemStylesBeforeGridCreated(\n\t\t\titems,\n\t\t\tcolumnWidth,\n\t\t\tgridContainer,\n\t\t\tcontainerMaxWidth,\n\t\t\ttransitionDuration,\n\t\t\ttransitionTimingFunction\n\t\t);\n\t\t\n\t\tconst runSetSize = this.setSize(\n\t\t\tcontainerMaxWidth,\n\t\t\tcolumnWidth,\n\t\t\tcolumnMargin,\n\t\t\titems,\n\t\t\tgridContainer\n\t\t);\n\t\t\n\t\trunSetSize();\n\t\t\n\t\twindow.addEventListener('resize', runSetSize);\n\t}\n\t\n\tsetSize (containerMaxWidth: number,\n\t\t\t columnWidth: number,\n\t\t\t columnMargin: number,\n\t\t\t items: Array<HTMLElement>,\n\t\t\t gridContainer: HTMLElement) {\n\t\treturn function () {\n\t\t\tconst containerWidth = window.innerWidth <= containerMaxWidth\n\t\t\t\t? window.innerWidth\n\t\t\t\t: containerMaxWidth;\n\t\t\t\n\t\t\tconst params = Utils.formatData(\n\t\t\t\tcontainerWidth,\n\t\t\t\tcolumnWidth,\n\t\t\t\tcolumnMargin,\n\t\t\t\titems\n\t\t\t);\n\t\t\t\n\t\t\tnew Grid(\n\t\t\t\tparams,\n\t\t\t\titems,\n\t\t\t\tgridContainer\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default Main;\n\n\n\n// WEBPACK FOOTER //\n// ./app/main/Main.js","// @flow\nimport { Params } from '../types'\nimport Styles from '../styles/Styles'\nimport Utils from '../utils/Utils'\n\nclass Grid {\n\tconstructor (params: Params, items: Array<HTMLElement>, container: HTMLElement) {\n\t\tStyles.setContainerStyles(\n\t\t\tcontainer,\n\t\t\tUtils.getContainerHeight(params.columnMargin, this.createGrid(params, items)),\n\t\t\tparams.containerFullWidth\n\t\t)\n\t}\n\t\n\tcreateGrid (params: Params, items: Array<HTMLElement>) {\n\t\tconst {itemsHeight, columnsNumber, columnWidth, columnMargin} = params\n\t\tconst grid = {}\n\t\tlet elementsOfGrid = itemsHeight\n\t\tlet indexOfSmallestColumn = 0\n\t\tlet sumOfHeightsForColumns = 0\n\t\tlet numberOfElementsInGrid = elementsOfGrid.length\n\t\t\n\t\tfor (let j = 0; j < columnsNumber; j++) {\n\t\t\tgrid[j] = []\n\t\t}\n\t\t\n\t\tfor (let i = 0; i < numberOfElementsInGrid && elementsOfGrid.length > 0; i++) {\n\t\t\tfor (let col = 0; col < columnsNumber && elementsOfGrid.length > 0; col++) { // Till elements array will not be empty\n\t\t\t\tlet elementOfGrid = elementsOfGrid.splice(0, 1)[0] // Grab first element till zero length\n\t\t\t\tif (elementOfGrid) { // Here start to fill columns by elements\n\t\t\t\t\tconst position = {top: 0, left: 0, index: col};\n\t\t\t\t\tif (grid[col].length === 0) { // Push first element if column is empty\n\t\t\t\t\t\tposition.left = (columnWidth + columnMargin) * col;\n\t\t\t\t\t} else if (grid[col].length > 0) { // if not empty should detect smallest column\n\t\t\t\t\t\tsumOfHeightsForColumns = Utils.getSumOfHeightsForColumns(grid);\n\t\t\t\t\t\tindexOfSmallestColumn = Utils.getIndexOfSmallestColumn(sumOfHeightsForColumns);\n\t\t\t\t\t\tposition.top = sumOfHeightsForColumns[indexOfSmallestColumn] + (columnMargin * grid[indexOfSmallestColumn].length);\n\t\t\t\t\t\tposition.left = (columnWidth + columnMargin) * indexOfSmallestColumn;\n\t\t\t\t\t\tposition.index = indexOfSmallestColumn;\n\t\t\t\t\t}\n\t\t\t\t\tgrid[position.index].push(elementOfGrid)\n\t\t\t\t\tStyles.setItemStyles(items[Object.keys(elementOfGrid)[0]], position.top, position.left)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn grid\n\t}\n}\n\nexport default Grid\n\n\n\n// WEBPACK FOOTER //\n// ./app/grid/Grid.js"],"sourceRoot":""}